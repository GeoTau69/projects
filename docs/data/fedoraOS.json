{
  "project": "fedoraOS",
  "display_name": "fedoraOS",
  "version": "1.1.0",
  "updated": "2026-02-24",
  "description": "Referenƒçn√≠ dokumentace pro nastaven√≠ OS, hardware, virtualizaci a AI workflow na MoreFine S500+ (Ryzen 9 5900HX, 64 GB RAM, Fedora 43 + Proxmox dual-boot).",
  "status": "active",
  "port": 8081,
  "tech": ["markdown", "python"],
  "access": {
    "local": "http://localhost:8081",
    "lan": "http://192.168.0.101:8081",
    "tailscale": "http://fedora:8081"
  },
  "back_link": {"href": "/", "label": "üè† Zpƒõt na Dashboard"},
  "sections": [
    {
      "id": "prehled",
      "title": "P≈ôehled",
      "icon": "üìö",
      "blocks": [
        {"type": "text", "text": "Dokumentace syst√©mu pokr√Ωv√° hardware, dual-boot, virtualizaci, s√≠≈•, spr√°vu opr√°vnƒõn√≠, tmux a AI workflow. Pln√Ω obsah na <a href='http://localhost:8081'>:8081</a>."},
        {"type": "table", "headers": ["Kapitola", "Obsah"], "rows": [
          ["01-hardware", "HW specifikace MoreFine S500+, NVMe disky, partition tabulky"],
          ["02-dual-boot", "EFI boot entries, p≈ôep√≠n√°n√≠ Fedora ‚Üî Proxmox, dead man's switch"],
          ["03-proxmox-dev", "Nested vs bare-metal Proxmox, CEC architektura (3 VM)"],
          ["04-networking", "Bridge br0, Tailscale VPN, s√≠≈•ov√° topologie"],
          ["05-sudo-modes", "Local vs remote sudo, AI workflow limitace"],
          ["06-tmux", "Tmux konfigurace, kl√°vesov√© zkratky, workflow"],
          ["07-claude-code-ai", "Claude Code profily, ≈°tafeta pattern, tokeny"],
          ["glossary", "Slovn√≠ƒçek pojm≈Ø: ≈°tafeta, CEC, dead man's switch"]
        ]}
      ]
    },
    {
      "id": "rychla-reference",
      "title": "Rychl√° reference",
      "icon": "‚ö°",
      "blocks": [
        {"type": "table", "headers": ["Akce", "P≈ô√≠kaz"], "rows": [
          ["Boot do Proxmoxu", "sudo reboot-to-proxmox"],
          ["Spustit Proxmox VM", "sudo virsh start proxmox-dev"],
          ["Zastavit Proxmox VM", "sudo virsh shutdown proxmox-dev"],
          ["Nouzov√© vypnut√≠ VM", "sudo virsh destroy proxmox-dev"],
          ["Konzole Proxmox VM", "sudo virsh console proxmox-dev"],
          ["Stav VM", "sudo virsh list --all"],
          ["Proxmox web UI", "https://192.168.0.200:8006"],
          ["Stav bridge", "ip addr show br0"],
          ["Tailscale status", "tailscale status"],
          ["Tmux nov√° session", "tmux new -s &lt;name&gt;"],
          ["Tmux p≈ôipojit", "tmux attach -t &lt;name&gt;"],
          ["Tmux reload config", "Prefix + r  (nebo tmux source-file ~/.tmux.conf)"],
          ["Claude Code verze", "claude --version"],
          ["P≈ôepnout Claude profil", "ln -sfn ~/.claude-profiles/&lt;profil&gt; ~/.claude"],
          ["Sudo pre-auth (pro AI)", "sudo -v"],
          ["Sudo kontrola opr√°vnƒõn√≠", "sudo -l"],
          ["Restart docs server", "systemctl --user restart docs fedoraos-docs"]
        ]},
        {"type": "text", "text": "Prefix = <code>Ctrl+A</code>. Kompletn√≠ p≈ô√≠kazy viz jednotliv√© kapitoly n√≠≈æe."}
      ]
    },
    {
      "id": "hw-souhrn",
      "title": "Hardware",
      "icon": "üñ•Ô∏è",
      "blocks": [
        {"type": "text", "text": "MoreFine S500+ s AMD Ryzen 9 5900HX (8C/16T), 64 GB DDR4, dva NVMe disky ‚Äî 477 GB pro Fedoru, 3.6 TB pro Proxmox."},
        {"type": "table", "headers": ["Disk", "Velikost", "Pou≈æit√≠"], "rows": [
          ["nvme1n1", "477 GB", "Fedora OS (prim√°rn√≠ boot)"],
          ["nvme0n1", "3.6 TB", "Proxmox bare-metal (sekund√°rn√≠ boot)"]
        ]}
      ]
    },
    {
      "id": "sit",
      "title": "S√≠≈•",
      "icon": "üåê",
      "blocks": [
        {"type": "text", "text": "S√≠≈•ov√° topologie: eno1 ‚Üí br0 (192.168.0.101) pro LAN + nested VM, Tailscale (100.117.55.88) pro vzd√°len√Ω p≈ô√≠stup."},
        {"type": "code", "lang": "bash", "text": "eno1 -> br0 (192.168.0.101) -> vnet0 -> proxmox-dev (192.168.0.200)\ntailscale0: 100.117.55.88 (fedora)"}
      ]
    },
    {
      "id": "dual-boot",
      "title": "Dual-boot",
      "icon": "üîÑ",
      "blocks": [
        {"type": "text", "text": "Stroj obsahuje dva fyzicky oddƒõlen√© disky, ka≈æd√Ω s vlastn√≠m bootloaderem. UEFI firmware rozhoduje, kter√Ω disk bootuje. V√Ωchoz√≠ boot je v≈ædy Fedora ‚Äî Proxmox se aktivuje explicitnƒõ."},
        {"type": "heading", "text": "EFI Boot entries"},
        {"type": "table", "headers": ["Entry ID", "N√°zev", "Disk", "Stav / Role"], "rows": [
          ["Boot0009", "Fedora", "nvme1n1p1", "Prim√°rn√≠ ‚Äî BootCurrent, prvn√≠ v BootOrder"],
          ["Boot0006", "proxmox", "nvme0n1p2", "Sekund√°rn√≠ ‚Äî explicitn√≠ p≈ôepnut√≠"],
          ["Boot000A", "Fedora", "nvme1n1p1", "Z√°lo≈æn√≠ SHIM entry (fallback Fedora)"],
          ["Boot000B", "UEFI OS", "nvme0n1p2", "Fallback Proxmox (neoznaƒçen√Ω UEFI OS)"]
        ]},
        {"type": "code", "lang": "bash", "text": "# Zobrazit boot entries\nefibootmgr -v\n\n# P≈ôepnout na Proxmox (jednor√°zovƒõ)\nsudo efibootmgr --bootnext 0006\n\n# Reboot\nsudo systemctl reboot\n\n# Ovƒõ≈ôit aktu√°ln√≠ boot\nefibootmgr | grep BootCurrent"},
        {"type": "card", "variant": "warning", "title": "Dead man's switch", "text": "Bezpeƒçnostn√≠ mechanismus: po restartu Proxmoxu se stroj automaticky vr√°t√≠ do Fedory (bez mo≈ænosti zaseknut√≠ v dead loopƒõ). Pou≈æ√≠v√° se <code>--bootnext</code> m√≠sto <code>--bootorder</code>."}
      ]
    },
    {
      "id": "proxmox",
      "title": "Proxmox",
      "icon": "üñ•Ô∏è",
      "blocks": [
        {"type": "text", "text": "Proxmox lze na tomto stroji provozovat dvƒõma zp≈Øsoby. Oba sd√≠lej√≠ stejnou IP adresu (192.168.0.200) a API rozhran√≠."},
        {"type": "table", "headers": ["Vlastnost", "Re≈æim A ‚Äî Nested", "Re≈æim B ‚Äî Bare-metal"], "rows": [
          ["Boot OS", "Fedora (nvme1n1)", "Proxmox p≈ô√≠mo (nvme0n1)"],
          ["Proxmox bƒõ≈æ√≠ jako", "KVM VM pod Fedorou", "Nativnƒõ na hardwaru"],
          ["IP adresa", "192.168.0.200", "192.168.0.200"],
          ["GUI", "https://192.168.0.200:8006", "https://192.168.0.200:8006"],
          ["V√Ωkon", "~80-90% (overhead nested KVM)", "100% (p≈ô√≠m√Ω p≈ô√≠stup k HW)"],
          ["√öƒçel", "V√Ωvoj, experimentov√°n√≠", "Produkce, pln√Ω v√Ωkon"],
          ["P≈ôep√≠n√°n√≠", "VM start/stop (rychl√©)", "Reboot stroje (viz dual-boot)"]
        ]},
        {"type": "heading", "text": "Re≈æim A ‚Äî virsh p≈ô√≠kazy"},
        {"type": "code", "lang": "bash", "text": "# Zobrazit stav VM\nsudo virsh list --all\n\n# Spustit VM\nsudo virsh start proxmox-dev\n\n# Zastavit VM\nsudo virsh shutdown proxmox-dev\n\n# Nouzov√© vypnut√≠\nsudo virsh destroy proxmox-dev\n\n# P≈ôipojit se na konzoli\nsudo virsh console proxmox-dev\n\n# Stav s√≠tƒõ VM\nsudo virsh domiflist proxmox-dev"},
        {"type": "heading", "text": "Parametry proxmox-dev VM"},
        {"type": "table", "headers": ["Parametr", "Hodnota"], "rows": [
          ["vCPU", "12"],
          ["RAM", "48 GB"],
          ["Disk", "200 GB (qcow2 nebo raw)"],
          ["Boot", "UEFI (OVMF)"],
          ["NIC typ", "virtio"],
          ["MAC adresa", "52:54:00:b4:56:42"],
          ["IP", "192.168.0.200/24"],
          ["Hostitel", "Fedora, qemu:///system"]
        ]},
        {"type": "heading", "text": "CEC architektura"},
        {"type": "text", "text": "CEC (Customer Environment Cluster) = 3 VM uvnit≈ô Proxmoxu: APP VM (ServiceNow app server), MID VM (MID Server), DB VM (datab√°ze). P≈ôedstavuje jednu z√°kaznickou instanci."}
      ]
    },
    {
      "id": "sudo",
      "title": "Sudo",
      "icon": "üîê",
      "blocks": [
        {"type": "text", "text": "Sudo konfigurace rozli≈°uje mezi lok√°ln√≠m p≈ô√≠stupem (pln√© sudo) a vzd√°len√Ωm (NOPASSWD whitelist)."},
        {"type": "heading", "text": "Remote p≈ô√≠stup"},
        {"type": "table", "headers": ["Metoda", "Protokol", "IP", "Port", "Stav"], "rows": [
          ["SSH", "SSH", "100.117.55.88", "22", "Aktivn√≠"],
          ["xRDP", "RDP", "100.117.55.88", "3389", "Aktivn√≠"],
          ["Tailscale", "WireGuard", "100.117.55.88", "‚Äî", "Overlay"]
        ]},
        {"type": "heading", "text": "NOPASSWD konfigurace"},
        {"type": "code", "lang": "bash", "text": "# /etc/sudoers.d/geo-nopasswd\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh list *\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh dominfo *\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh domiflist *\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh start *\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh shutdown *\ngeo ALL=(ALL) NOPASSWD: /usr/bin/virsh destroy *\ngeo ALL=(ALL) NOPASSWD: /usr/sbin/bridge *\ngeo ALL=(ALL) NOPASSWD: /usr/sbin/ip link *\ngeo ALL=(ALL) NOPASSWD: /usr/sbin/efibootmgr *\ngeo ALL=(ALL) NOPASSWD: /usr/local/bin/reboot-to-proxmox"},
        {"type": "heading", "text": "Claude Code a sudo"},
        {"type": "card", "variant": "info", "title": "Pre-auth pro AI", "text": "P≈ôed spu≈°tƒõn√≠m Claude Code session spus≈• <code>sudo -v</code> pro pre-autentizaci. Bez toho Claude Code nem≈Ø≈æe zadat heslo interaktivnƒõ."}
      ]
    },
    {
      "id": "tmux",
      "title": "Tmux",
      "icon": "‚å®Ô∏è",
      "blocks": [
        {"type": "text", "text": "Prefix = Ctrl+A, mouse ON, escape-time 0 (kritick√© pro Claude Code ‚Äî bez zpo≈ædƒõn√≠ Escape)."},
        {"type": "heading", "text": "Sessions"},
        {"type": "table", "headers": ["Zkratka / P≈ô√≠kaz", "Akce"], "rows": [
          ["tmux new -s &lt;name&gt;", "Nov√° session se jm√©nem"],
          ["tmux ls", "V√Ωpis sessions"],
          ["tmux attach -t &lt;name&gt;", "P≈ôipojit se k session"],
          ["Prefix + d", "Detach (session z≈Østane bƒõ≈æet)"],
          ["Prefix + $", "P≈ôejmenovat session"],
          ["Prefix + s", "Interaktivn√≠ p≈ôep√≠n√°n√≠ sessions"],
          ["Prefix + (", "P≈ôedchoz√≠ session"],
          ["Prefix + )", "Dal≈°√≠ session"]
        ]},
        {"type": "heading", "text": "Windows"},
        {"type": "table", "headers": ["Zkratka", "Akce"], "rows": [
          ["Prefix + c", "Nov√© okno"],
          ["Prefix + &lt;ƒç√≠slo&gt;", "P≈ôepnout na okno"],
          ["Prefix + p / n", "P≈ôedchoz√≠ / dal≈°√≠ okno"],
          ["Prefix + ,", "P≈ôejmenovat okno"],
          ["Prefix + w", "Interaktivn√≠ p≈ôep√≠n√°n√≠ oken"],
          ["Prefix + &", "Zav≈ô√≠t okno"]
        ]},
        {"type": "heading", "text": "Panes"},
        {"type": "table", "headers": ["Zkratka", "Akce"], "rows": [
          ["Prefix + |", "Split horizont√°lnƒõ (vpravo)"],
          ["Prefix + -", "Split vertik√°lnƒõ (dol≈Ø)"],
          ["Prefix + ≈°ipky", "P≈ôep√≠n√°n√≠ mezi panely"],
          ["Prefix + q", "Zobrazit ƒç√≠sla panel≈Ø"],
          ["Prefix + z", "Zoom pane"],
          ["Prefix + x", "Zav≈ô√≠t pane"],
          ["Prefix + {", "P≈ôesunout pane doleva"],
          ["Prefix + }", "P≈ôesunout pane doprava"]
        ]},
        {"type": "heading", "text": "Session konvence"},
        {"type": "table", "headers": ["Session", "√öƒçel"], "rows": [
          ["ic-aft", "ic-aft framework v√Ωvoj"],
          ["proxmox", "Proxmox spr√°va, virsh"],
          ["claude", "Claude Code interaktivn√≠ session"],
          ["monitor", "Monitoring, logy, watch p≈ô√≠kazy"],
          ["default", "Obecn√Ω termin√°l"]
        ]}
      ]
    },
    {
      "id": "claude-code",
      "title": "Claude Code",
      "icon": "ü§ñ",
      "blocks": [
        {"type": "heading", "text": "Instalace a verze"},
        {"type": "table", "headers": ["Parametr", "Hodnota"], "rows": [
          ["Verze", "2.1.50"],
          ["Instalace", "npm (global)"],
          ["Bin√°rka", "~/.npm-global/bin/claude"],
          ["PATH", "~/.npm-global/bin"]
        ]},
        {"type": "code", "lang": "bash", "text": "# Ovƒõ≈ôit verzi\nclaude --version\n\n# Aktualizovat\nnpm update -g @anthropic-ai/claude-code\n\n# Kde je bin√°rka\nwhich claude"},
        {"type": "heading", "text": "Modely"},
        {"type": "table", "headers": ["Model", "ID", "Role", "Cena"], "rows": [
          ["Opus 4.6", "claude-opus-4-6", "Architektura, design", "Nejvy≈°≈°√≠"],
          ["Sonnet 4.6", "claude-sonnet-4-6", "Implementace k√≥du", "St≈ôedn√≠"],
          ["Haiku 4.5", "claude-haiku-4-5", "Dokumentace, opakov√°n√≠", "Nejni≈æ≈°√≠"]
        ]},
        {"type": "heading", "text": "Profily"},
        {"type": "table", "headers": ["Profil", "Typ", "√öƒçel"], "rows": [
          ["pro-commonsense", "PRO ($20/m)", "Prim√°rn√≠, vysok√° kv√≥ta"],
          ["api", "API (pay-as-you-go)", "Fallback, bez kv√≥ty"],
          ["free-george", "Free", "Z√°lo≈æn√≠"],
          ["free-jirka", "Free", "Z√°lo≈æn√≠"]
        ]},
        {"type": "code", "lang": "bash", "text": "# P≈ôepnout na API profil\nln -sfn ~/.claude-profiles/api ~/.claude\n\n# P≈ôepnout na PRO profil\nln -sfn ~/.claude-profiles/pro-commonsense ~/.claude\n\n# Zobrazit aktivn√≠ profil\nls -la ~/.claude"},
        {"type": "heading", "text": "≈†tafeta pattern"},
        {"type": "text", "text": "Vzor pro pr√°ci mezi modely: <strong>Opus</strong> (pl√°n) ‚Üí <strong>Sonnet</strong> (implementace) ‚Üí <strong>Haiku</strong> (dokumentace). Ka≈æd√Ω dƒõl√° svou s√≠lu."},
        {"type": "heading", "text": "Best practices"},
        {"type": "list", "ordered": true, "entries": [
          "V≈ædy m√≠t tmux session",
          "MEMORY.md aktualizovat na konci ka≈æd√© session",
          "Konkr√©tn√≠ instrukce > v√°gn√≠ po≈æadavky",
          "Jeden √∫kol najednou",
          "Kontrolovat v√Ωstup",
          "≈†tafeta pro velk√© projekty",
          "Sudo pre-autorizace (<code>sudo -v</code>) p≈ôed AI session",
          "Pojmenovan√© sessions (<code>tmux new -s ic-aft</code>)"
        ]}
      ]
    },
    {
      "id": "slovnicek",
      "title": "Slovn√≠ƒçek",
      "icon": "üìñ",
      "blocks": [
        {"type": "heading", "text": "AI workflow"},
        {"type": "table", "headers": ["Pojem", "Smysl"], "rows": [
          ["≈†tafeta", "Opus (pl√°n) ‚Üí Sonnet (k√≥d) ‚Üí Haiku (dokumentace)"],
          ["Konec zvonec", "Sign√°l pro ukonƒçen√≠ session, ulo≈æen√≠ do MEMORY.md"],
          ["Handoff", "P≈ôed√°n√≠ stavu mezi sessions (MEMORY.md, CLAUDE.md)"],
          ["MEMORY.md", "Persistentn√≠ pamƒõ≈• projektu (~/.claude/projects/&lt;hash&gt;/MEMORY.md)"],
          ["CLAUDE.md", "Projektov√© instrukce ‚Äî konvence k√≥du, architektura, pravidla"]
        ]},
        {"type": "heading", "text": "Virtualizace"},
        {"type": "table", "headers": ["Pojem", "Vysvƒõtlen√≠"], "rows": [
          ["CEC", "Customer Environment Cluster ‚Äî 3 VM (APP, MID, DB) = 1 z√°kaznick√° instance"],
          ["Re≈æim A", "Nested Proxmox ‚Äî KVM VM v Fedo≈ôe (~80-90% v√Ωkonu)"],
          ["Re≈æim B", "Bare-metal Proxmox ‚Äî boot z nvme0n1 (100% v√Ωkon)"],
          ["Nested virt", "VM uvnit≈ô VM (3 √∫rovnƒõ: Host ‚Üí Fedora VM ‚Üí Proxmox VM ‚Üí CEC VMs)"],
          ["Dead man's switch", "Automatick√Ω n√°vrat do Fedory p≈ôi selh√°n√≠ Proxmoxu (bezpeƒçnost)"],
          ["Bridge br0", "Linux L2 switch (eno1 + vnet0 + ostatn√≠)"],
          ["TAP interface", "Virtu√°ln√≠ NIC pro VM (vnetX)"],
          ["LVM", "Logical Volume Manager ‚Äî abstrakce nad fyzick√Ωmi disky"],
          ["zram", "Kompresn√≠ swap v RAM (Proxmox)"]
        ]},
        {"type": "heading", "text": "Zkratky"},
        {"type": "table", "headers": ["Zkratka", "Smysl"], "rows": [
          ["AFT", "Acceptance Framework Tests"],
          ["CEC", "Customer Environment Cluster"],
          ["ESP", "EFI System Partition"],
          ["IC", "Instance Controller"],
          ["KVM", "Kernel-based Virtual Machine"],
          ["LVM", "Logical Volume Manager"],
          ["NVMe", "Non-Volatile Memory Express"],
          ["QEMU", "Quick Emulator"],
          ["TAP", "Network TAP (virtu√°ln√≠ NIC)"],
          ["UEFI", "Unified Extensible Firmware Interface"],
          ["VPN", "Virtual Private Network"]
        ]}
      ]
    }
  ]
}
